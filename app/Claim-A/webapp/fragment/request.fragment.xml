<core:FragmentDefinition xmlns:unified="sap.ui.unified" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form">
	<Dialog title="{i18n>req_po_title}" contentWidth="50%" class="requestDialog">
		<f:SimpleForm 
            id="req_create_form"
			editable="true"
			layout="ResponsiveGridLayout"
			labelSpanXL="4"
			labelSpanL="3"
			labelSpanM="4"
			labelSpanS="12"
			adjustLabelSpan="false"
			emptySpanXL="0"
			emptySpanL="4"
			emptySpanM="0"
			emptySpanS="0"
			columnsXL="2"
			columnsL="1"
			columnsM="1" >
			<f:content>
				<Label text="{i18n>req_purpose}" />
				<Input value="{request>/purpose}" required="true"/>

				<Label text="{i18n>req_rtype}" />
				<Select selectedKey="{request>/reqtype}" 
						required="true" 
						items="{path: 'req_type_list>/types',
								sorter: { path: 'REQUEST_TYPE_ID', descending: false }}">
					<items>
						<core:Item key="{req_type_list>REQUEST_TYPE_ID} {req_type_list>REQUEST_TYPE_DESC}" 
								text="{req_type_list>REQUEST_TYPE_DESC}" />
					</items>
				</Select>

			    <Label text="{i18n>req_tripstartdate}"/>
				<DatePicker
                    id="request_tripstartdate"
                    displayFormat="dd MMM yyyy"  
                    valueFormat="yyyy-MM-dd" 
                    placeholder="dd MMM yyyy"
                    value="{request>/tripstartdate}"
					textAlign="Begin"
					required="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0004 Reimbursement' }"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }"/>

				<Label text="{i18n>req_tripenddate}" />
				<DatePicker
                    id="request_tripenddate"
                    displayFormat="dd MMM yyyy"  
                    valueFormat="yyyy-MM-dd" 
                    placeholder="dd MMM yyyy"
                    value="{request>/tripenddate}"
					textAlign="Begin"
					required="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0004 Reimbursement' }"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }"/>

				<Label text="{i18n>req_eventstartdate}"/>
				<DatePicker
                    id="request_eventstartdate"
                    displayFormat="dd MMM yyyy"  
                    valueFormat="yyyy-MM-dd" 
                    placeholder="dd MMM yyyy"
                    value="{request>/eventstartdate}"
					textAlign="Begin"
					required="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event' }"/>

				<Label text="{i18n>req_eventenddate}" />
				<DatePicker
                    id="request_eventenddate"
                    displayFormat="dd MMM yyyy"  
                    valueFormat="yyyy-MM-dd" 
                    placeholder="dd MMM yyyy"
                    value="{request>/eventenddate}"
					textAlign="Begin"
					required="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event' }" />	

				<Label text="{i18n>req_grptype}" />
				<Select width="100%" 
						required="true" 
						selectedKey="{request>/grptype}"
						visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
									${request>/reqtype} === 'RT0002 Mobile'  || 
									${request>/reqtype} === 'RT0003 Event'  || 
									${request>/reqtype} === 'RT0004 Reimbursement' }">
					<!-- <core:Item key="none" text="" /> -->
					<core:Item key="individual" text="Individual" />
					<core:Item key="group" text="Group" />
				</Select>

			    <Label text="{i18n>req_location}" />
			    <Input 
					id="request_location"
					textAlign="Begin"
					value="{request>/location}"
					required="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }"/>

			    <Label text="{i18n>req_transport}" />
				<Input 
					id="req_transport"
					value="{request>/transport}"
					required="{= ${request>/reqtype} === 'RT0001 Travel' }"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }" />

			    <Label text="{i18n>req_acc}" />
			    <Select width="100%" 
						selectedKey="{request>/altcostcenter}" 
						required="false" 
						visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
									${request>/reqtype} === 'RT0003 Event'  || 
									${request>/reqtype} === 'RT0004 Reimbursement' }">
					<core:Item key="none" text="" />
					<core:Item key="cc1" text="CC1" />
					<core:Item key="cc2" text="CC2" />
					<core:Item key="cc3" text="CC3" />
					<core:Item key="cc4" text="CC4" />
					<core:Item key="cc5" text="CC5" />
				</Select>

			    <Label text="{i18n>req_attach1}" />
			    <unified:FileUploader
					id="req_attachment_1"
					change=".onImportChange"
					value="{request>/doc1}"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0002 Mobile' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }" />

			    <Label text="{i18n>req_attach2}" />
			    <unified:FileUploader
					id="req_attachment_2"
					change=".onImportChange"
					value="{request>/doc2}"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0002 Mobile' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }" />

			    <Label text="{i18n>req_comment}" />
			    <TextArea
					id="request_comment"
					textAlign="Begin"
					required="true"
					value="{request>/comment}"
					visible="{= ${request>/reqtype} === 'RT0001 Travel' || 
								${request>/reqtype} === 'RT0002 Mobile' || 
								${request>/reqtype} === 'RT0003 Event'  || 
								${request>/reqtype} === 'RT0004 Reimbursement' }" />

				<Label text="{i18n>req_event1}" />
			    <TextArea 
					id="req_event_detail_1"
					textAlign="Begin"
					value="{request>/eventdetail1}"
					required="{= ${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0003 Event' }"/>
								
			    <Label text="{i18n>req_event2}" />
			    <TextArea 
					id="req_event_detail_2"
					textAlign="Begin"
					value="{request>/eventdetail2}"
					required="{= ${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0003 Event' }"/>

				<Label text="{i18n>req_event3}" />
			    <TextArea 
					id="req_event_detail_3"
					textAlign="Begin"
					value="{request>/eventdetail3}"
					required="{= ${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0003 Event' }"/>

				<Label text="{i18n>req_event4}" />
			    <TextArea 
					id="req_event_detail_4"
					textAlign="Begin"
					value="{request>/eventdetail4}"
					required="{= ${request>/reqtype} === 'RT0003 Event' }"
					visible="{= ${request>/reqtype} === 'RT0003 Event' }"/>
								
			</f:content>
        </f:SimpleForm>
		<HBox id="request_placeholder" alignItems="Center" justifyContent="End" class="sapUiSmallMarginEnd" columnGap="0.5rem">
            <Button id="request_create" press="onClickCreateRequest" 	text="{i18n>req_b_create}" type="Emphasized"/>
            <Button id="request_cancel" press="onClickCancel" 			text="{i18n>req_b_cancel}" />
		</HBox>
	</Dialog>
</core:FragmentDefinition>
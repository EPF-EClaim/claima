<core:FragmentDefinition xmlns:unified="sap.ui.unified" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form">
	<Dialog title="{i18n>req_po_title}" contentWidth="50%" class="requestDialog">
		<f:SimpleForm 
            id="req_create_form"
			editable="true"
			layout="ResponsiveGridLayout"
			labelSpanXL="4"
			labelSpanL="3"
			labelSpanM="4"
			labelSpanS="12"
			adjustLabelSpan="false"
			emptySpanXL="0"
			emptySpanL="4"
			emptySpanM="0"
			emptySpanS="0"
			columnsXL="2"
			columnsL="1"
			columnsM="1" >
			<f:content>
				<Label text="Request Purpose" />
				<Input value="{request>/purpose}" required="true"/>

				<Label text="Request Type" />
				<Select selectedKey="{request>/type}" 
						required="true" 
						items="{path: 'req_type_list>/types',
								sorter: { path: 'REQUEST_TYPE_ID', descending: false }}">
					<items>
						<core:Item key="{req_type_list>REQUEST_TYPE_ID} {req_type_list>REQUEST_TYPE_DESC}" 
								text="{req_type_list>REQUEST_TYPE_DESC}" />
					</items>
				</Select>

			    <Label text="Cash Advance Type" />
			    <Select width="100%" 
						selectedKey="{request>/cashadvtype}" 
						required="{= ${request>/type} === 'RT0005 Cash Advance' }"
						visible="{= ${request>/type} === 'RT0005 Cash Advance' }">
					<core:Item key="none" text="" />
					<core:Item key="Event" text="Event" />
					<core:Item key="cat2" text="CAT2" />
					<core:Item key="cat3" text="CAT3" />
					<core:Item key="cat4" text="CAT4" />
					<core:Item key="cat5" text="CAT5" />
				</Select>

			    <Label text="Request Start Date"/>
				<DatePicker
                    id="request_startdate"
                    displayFormat="dd MMM yyyy"  
                    valueFormat="yyyy-MM-dd" 
                    placeholder="dd MMM yyyy"
                    value="{request>/startdate}"
					textAlign="Begin"
					required="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"
					visible="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0004 Reimbursement'  || 
								${request>/type} === 'RT0005 Cash Advance' }"/>

				<Label text="Request End Date" />
				<DatePicker
                    id="request_enddate"
                    displayFormat="dd MMM yyyy"  
                    valueFormat="yyyy-MM-dd" 
                    placeholder="dd MMM yyyy"
                    value="{request>/enddate}"
					textAlign="Begin"
					required="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"
					visible="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0004 Reimbursement'  || 
								${request>/type} === 'RT0005 Cash Advance' }"/>

				<Label text="Individual/Group" />
				<Select width="100%" 
						required="true" 
						selectedKey="{request>/grptype}"
						visible="{= ${request>/type} === 'RT0001 Travel' || 
									${request>/type} === 'RT0002 Mobile'  || 
									${request>/type} === 'RT0003 Event'  || 
									${request>/type} === 'RT0004 Reimbursement'  || 
									${request>/type} === 'RT0005 Cash Advance' }">
					<core:Item key="none" text="" />
					<core:Item key="individual" text="Individual" />
					<core:Item key="group" text="Group" />
				</Select>

			    <Label text="Location" />
			    <Input 
					id="request_location"
					textAlign="Begin"
					value="{request>/location}"
					required="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"
					visible="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"/>

			    <Label text="Type of Transportation" />
				<Input 
					id="req_transport"
					value="{request>/transport}"
					required="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"
					visible="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }" />

			    <Label text="Event Details" />
			    <TextArea 
					id="req_event_detail"
					textAlign="Begin"
					value="{request>/detail}"
					required="{= ${request>/type} === 'RT0003 Event'  || 
								${request>/cashadvtype} === 'Event' }"
					visible="{= ${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"/>
								
			    <Label text="Policy" />
			    <Input 
					id="req_policy"
					textAlign="Begin"
					value="{request>/policy}"
					required="{= ${request>/type} === 'RT0003 Event'  || 
								${request>/cashadvtype} === 'Event' }"
					visible="{= ${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"/>

			    <Label text="Alternate Cost Center" />
			    <Select width="100%" 
						selectedKey="{request>/altcostcenter}" 
						required="false" 
						visible="{= ${request>/type} === 'RT0001 Travel' || 
									${request>/type} === 'RT0003 Event'  || 
									${request>/type} === 'RT0004 Reimbursement'  || 
									${request>/type} === 'RT0005 Cash Advance' }">
					<core:Item key="none" text="" />
					<core:Item key="cc1" text="CC1" />
					<core:Item key="cc2" text="CC2" />
					<core:Item key="cc3" text="CC3" />
					<core:Item key="cc4" text="CC4" />
					<core:Item key="cc5" text="CC5" />
				</Select>

			    <Label text="Comment" />
			    <TextArea
					id="request_comment"
					textAlign="Begin"
					required="false"
					value="{request>/comment}"
					visible="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0002 Mobile'  || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0004 Reimbursement'  || 
								${request>/type} === 'RT0005 Cash Advance' }" />

			    <Label text="Attachment 1" />
			    <unified:FileUploader
					id="req_attachment_1"
					icon="sap-icon://upload"
					change=".onImportChange"
					value="{request>/doc1}"
					visible="{= ${request>/type} === 'RT0001 Travel' || 
								${request>/type} === 'RT0002 Mobile'  || 
								${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0004 Reimbursement'  || 
								${request>/type} === 'RT0005 Cash Advance' }"
					/>

			    <Label text="Attachment 2" />
			    <unified:FileUploader
					id="req_attachment_2"
					icon="sap-icon://upload"
					change=".onImportChange"
					value="{request>/doc2}"
					visible="{= ${request>/type} === 'RT0003 Event'  || 
								${request>/type} === 'RT0005 Cash Advance' }"/>
								
			</f:content>
        </f:SimpleForm>
		<HBox id="request_placeholder" alignItems="Center" justifyContent="End" class="sapUiSmallMarginEnd" columnGap="0.5rem">
            <Button id="request_create" press="onClickCreateRequest" 	text="{i18n>req_create}" type="Emphasized"/>
            <Button id="request_cancel" press="onClickCancel" 			text="{i18n>req_cancel}" />
		</HBox>
	</Dialog>
</core:FragmentDefinition>
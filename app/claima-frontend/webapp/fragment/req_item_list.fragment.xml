<core:FragmentDefinition
    xmlns:unified="sap.ui.unified" 
    xmlns:columnmenu="sap.m.table.columnmenu" 
    xmlns:table="sap.ui.table" 
    xmlns:m="sap.m"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:tnt="sap.tnt"
    xmlns:cards="sap.f.cards"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:cssgrid="sap.ui.layout.cssgrid"
    xmlns:w="sap.ui.integration.widgets"
    xmlns:card="sap.f.cards"
    xmlns:core="sap.ui.core"
    xmlns:Icon="sap.ui.core.Icon"
    xmlns:ShellBar="sap.f.ShellBar"
    xmlns:layout="sap.ui.layout">
    <VBox
        id="request_item_list_fragment" 
        backgroundDesign="Solid"
        class="roundedBox sapUiSmallMargin"
        rowGap="1rem">
        <VBox width="100%" rowGap="1rem">
            <OverflowToolbar
                height="3rem"
                style="Clear">
                <m:Title text="{i18n>req_form_detail_title} ({view>/totalCount})" titleStyle="H3" />
                <m:ToolbarSpacer />
                <m:Button text="Create Item" type="Emphasized" icon="sap-icon://add" press=".onPressAddItem"></m:Button>
                <!-- <m:Button text="Edit" press=".onSelectEdit" /> -->
                <m:Button text="Delete" type="Default" press=".onRowDeleteReqItem"/>
            </OverflowToolbar>
            <VBox rowGap="1rem">
                <table:Table 
                    id="req_item_table"
                    rows="{/req_item_rows}"
                    columnHeaderHeight="3rem"
                    selectionMode="MultiToggle"
                    ariaLabelledBy="title"
                    width="auto"
                    rowActionCount="3">
                    <table:Column  width="25rem">
                        <m:Label text="Claim Type"></m:Label>
                        <table:template>
                            <m:Text text="{claim_type}" wrapping="false" />
                        </table:template>
                    </table:Column>
                    <table:Column  width="15rem">
                        <m:Label text="Estimated Amount"></m:Label>
                        <table:template>
                            <unified:Currency value="{est_amount}" currency="{curenncy_code}"/>
                        </table:template>
                    </table:Column>
                    <table:Column  width="15rem">
                        <m:Label text="Estimated No. of Participant"></m:Label>
                        <table:template>
                            <m:Text text="{est_no_of_participant}" wrapping="false" />
                        </table:template>
                    </table:Column>
                    <table:rowActionTemplate>
                        <table:RowAction> 
                            <table:items>
                                <table:RowActionItem icon="sap-icon://edit" text="Edit" press=".onSelectEdit"/>
                                <table:RowActionItem type="Delete" press=".onRowDeleteReqItem"/>
                                <table:RowActionItem type="Navigation" press=".onSelectEdit"/>
                            </table:items>
                        </table:RowAction>
                    </table:rowActionTemplate>
                </table:Table>
            </VBox>
        </VBox>
    </VBox>
</core:FragmentDefinition>